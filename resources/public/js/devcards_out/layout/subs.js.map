{"version":3,"file":"\/Users\/dmitry\/research\/album\/resources\/public\/js\/devcards_out\/layout\/subs.js","sources":["subs.cljs?rel=1478388956618"],"lineCount":366,"mappings":";AAAA;;;;AAIA,uBAAA,vBAAMA,sDACHC,OAAOC;AADV,AAEE,IAAMC,QAAM,AAACC,yBAAK,AAACC,6BAASJ,OAAOC;AAAnC,AACE;kBAAKI;AAAL,AACE,IAAMC,OAAK,AAACC,0BAAM,wBAAA,AAAAC,xBAACC,kDAAKP,OAAMG;AAA9B,AACE,AAACK,+BAAMR,MAAMS,iBAAON,EAAEO;;AACtBN;;;;AAER,gCAAA,hCAAKO;AAEL,GAAA,OAASC;AAAT;AAAA,AAAA,AAASA,+BAAiB,QAAA,RAACC;;AAE3B,uBAAA,+BAAAC,tDAAMI,+DACoBG;AAD1B,AAAA,IAAAN,aAAAD;IAAAC,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,CAAA,CAAA,AAAAA,iDAAA,WAAA,AAAAA,6BAAA,KAAA,OAAA,QAAA,AAAAC,0BAAAC,mBAAAF,YAAAA;YAAA,AAAAR,wBAAAQ,eAAA,\/CACWI;aADX,AAAAZ,wBAAAQ,eAAA,hDACiBK;AADjB,AAEE,OAAQE,WACA,CAAG,CAAG,CAAGF,SAAOT,iCAAmB,AAACY,2BAAOC,iBAAEH,YAC1CF;;AAMb,0BAAA,1BAAMM,4DAAarB;AAAnB,AAAyB,QAAA,QAAO,AAACsB,2BAAOtB;;AAExC;;;;;iCAAA,jCAAMuB,0EAIHC,KAAKC;AAJR,AAKE,IAAMR,UAAQ,AAACS,wBAAIJ,iBAAOG;IACpBE,IAAQ,AAACb,+BAASU,KAAKP;AAD7B,AAEE,OAACT,uCAAiB,AAACoB,+BAAQ,wBAAA,xBAACF;kBAADG;AAAA,AAAM,QAAA,QAAAA;;CAAUZ,UACzBU;;AAEtB;;;;;2BAAA,3BAAMG,8DAIHN,KAAKC;AAJR,AAKE,4BAAA,5BAACM;;AACD,IAAMC,SAAW,AAACvC,+BAAS4B,wBAAYI;IACjCQ,aAAW,AAACV,yCAAmBC,KAAKC;AAD1C,AAEE,GAAI,AAACS,wBAAID;AACP,OAACE,0BAAM,wBAAA,xBAACT;kBAADU;AAAA,AAAM,sCAAAA,\/BAACV,wBAAIM;;CAAUC;;AAD9B,0FAEGR;;;AAEP,yBAAA,zBAAMY,0DAAYC;AAAlB,AAAuB,OAACnB,2BAAOC,iBAAE,AAACM,wBAAIJ,iBAAOgB;;AAK7C;;;;wBAAA,oCAAAC,5DAAME,wDAGHH,aAAoBI;AAHvB,AAAA,IAAAF,aAAAD;IAAAC,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,CAAA,CAAA,AAAAA,iDAAA,WAAA,AAAAA,6BAAA,KAAA,OAAA,QAAA,AAAA5B,0BAAAC,mBAAA2B,YAAAA;YAAA,AAAArC,wBAAAqC,eAAA,\/CAGezB;AAHf,AAIE,QAAGA,QAAM,CAAG2B,MAAI,kCAAA,jCAAK,AAACC,0BAAML;;AAE9B;;;;;sBAAA,tBAAMM,oDAIHN,IAAId,KAAKkB;AAJZ,AAAA,0FAKG,CAAG,AAACD,gCAAUH,IAAId,KAAKkB,OAAK,AAACL,iCAAWC,MACxCA;;AAEH;;;;2BAAA,uCAAAO,lEAAME,8DAGHT,aAAoCI;AAHvC,AAAA,IAAAI,aAAAD;IAAAC,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,CAAA,CAAA,AAAAA,iDAAA,WAAA,AAAAA,6BAAA,KAAA,OAAA,QAAA,AAAAlC,0BAAAC,mBAAAiC,YAAAA;WAAAA,PAGiCtB;YAHjC,AAAArB,wBAAA2C,eAAA,\/CAGe\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\/CAAkBZ;YAAlB,AAAA1B,wBAAAsC,WAAA,IAAA,\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\/B,AAGE,OAACd,oCAAcH,WAAW+B,UAAUC","names":["layout.subs\/selector","key-fn","coll","cache","cljs.core\/atom","cljs.core\/group-by","k","item","cljs.core\/first","cljs.core\/deref","cljs.core\/get","cljs.core\/swap!","cljs.core\/update","cljs.core\/rest","layout.subs\/photos-per-screen","layout.subs\/linear-partition","js\/require","p__25127","map__25130","cljs.core\/apply","cljs.core\/hash-map","layout.subs\/num-rows","width","height","aspects","js\/Math","cljs.core\/reduce","cljs.core\/+","layout.subs\/item-weight","cljs.core\/second","layout.subs\/compute-partitions","rect","items","cljs.core\/map","n","cljs.core\/clj->js","p1__25132#","layout.subs\/compute-rows","cljs.core\/println","select","partitions","cljs.core\/seq","cljs.core\/doall","p1__25133#","layout.subs\/row-aspect","row","p__25134","map__25137","layout.subs\/row-width","gap","cljs.core\/count","layout.subs\/fit-row","p__25139","map__25142","layout.subs\/fit-last-row","row-height","row-width","layout.subs\/fit-rows","rows","scaled","cljs.core\/conj","p1__25144#","cljs.core\/mapv","cljs.core\/butlast","cljs.core\/last","p__25145","map__25153","layout.subs\/scale-rows","vec__25155","vec__25156","cljs.core\/nth","cljs.core\/nthnext","scaled-rows","x","y","paint-list","cljs.core\/transient","vec__25157","id","aspect","item-width","item-end","layout.data\/map->PaintRect","x__19174__auto__","y__19175__auto__","cljs.core\/conj!","vec__25158","vec__25159","height'","y'","cljs.core\/persistent!","layout.data\/map->Layout","re-frame.core\/reg-sub","p__25174","vec__25175","db","_","window-id","cljs.core\/get-in","p__25176","vec__25177","re-frame.core\/subscribe","window","p__25178","vec__25179","p__25180","vec__25181","p__25182","vec__25183","base-rect","p__25184","p__25185","vec__25186","vec__25187","p__25188","p__25189","vec__25190","vec__25191","scale-rect","p__25192","map__25198","layout.subs\/clump-layouts","layouts","current-row","current-width","vec__25200","map__25201","layout","layouts'","layout-width","temp__4655__auto__","p__25216","p__25217","vec__25218","vec__25219","groups","cljs.core\/into","p__25220","vec__25221","group-id","group-items","p__25222","p__25223","p__25224","vec__25225","vec__25226","vec__25227","row-groups","item-gap","group-gap","layout-groups","cljs.core\/assoc","p1__25215#","cljs.core\/keys"]}